
> d3-graphviz@5.1.0 pretest
> npm run build


> d3-graphviz@5.1.0 build
> rm -rf build && mkdir build && rollup -c

[36m
[1mindex.js[22m â†’ [1mbuild/d3-graphviz.js[22m...[39m
[32mcreated [1mbuild/d3-graphviz.js[22m in [1m456ms[22m[39m

> d3-graphviz@5.1.0 test
> env TESTRUNNER='c8 --reporter=text mocha' npm run do-test


> d3-graphviz@5.1.0 do-test
> mkdir -p http:; ln -nsf .. http://dummyhost; $TESTRUNNER 'test/**/*-test.js' 'test/**/*-test.cjs'

[33mWarning: Cannot find any files matching pattern "test/**/*-test.cjs"[39m


  âœ” graphviz().addImage() adds images to use in graph. (176ms)
  âœ” The attributer is called during rendering.
  âœ” data() returns the data saved by dot().
  âœ” .destroy() deletes the Graphviz instance from the container element (shared worker version) (182ms)
  âœ” .destroy() closes the shared worker (172ms)
  âœ” .destroy() deletes the Graphviz instance from the container element
  âœ” .destroy() deletes the Graphviz instance from the container element (worker version) (181ms)
  âœ” .destroy() closes the worker (259ms)
actualData:
{
    "tag": "svg",
    "attributes": {
        "width": "62pt",
        "height": "116pt",
        "viewBox": "0.00 0.00 62.00 116.00",
        "xmlns": "http://www.w3.org/2000/svg",
        "xmlns:xlink": "http://www.w3.org/1999/xlink"
    },
    "children": [
        {
            "tag": "#text",
            "text": "\n",
            "attributes": {},
            "children": [],
            "key": "#text-0",
            "id": "svg-0.#text-0"
        },
        {
            "tag": "g",
            "attributes": {
                "id": "graph0",
                "class": "graph",
                "transform": "scale(1 1) rotate(0) translate(4 112)"
            },
            "translation": {
                "x": 4,
                "y": 112
            },
            "scale": 1,
            "children": [
                {
                    "tag": "#text",
                    "text": "\n",
                    "attributes": {},
                    "children": [],
                    "key": "#text-0",
                    "id": "svg-0.g-0.#text-0"
                },
                {
                    "tag": "polygon",
                    "attributes": {
                        "fill": "white",
                        "stroke": "none",
                        "points": "-4,4 -4,-112 58,-112 58,4 -4,4"
                    },
                    "bbox": {
                        "x": -4,
                        "y": -112,
                        "width": 62,
                        "height": 116
                    },
                    "center": {
                        "x": 27,
                        "y": -54
                    },
                    "children": [],
                    "key": "path-0",
                    "id": "svg-0.g-0.path-0"
                },
                {
                    "tag": "#text",
                    "text": "\n",
                    "attributes": {},
                    "children": [],
                    "key": "#text-1",
                    "id": "svg-0.g-0.#text-1"
                },
                {
                    "tag": "#comment",
                    "comment": " a ",
                    "attributes": {},
                    "children": [],
                    "key": "#comment-0",
                    "id": "svg-0.g-0.#comment-0"
                },
                {
                    "tag": "#text",
                    "text": "\n",
                    "attributes": {},
                    "children": [],
                    "key": "#text-2",
                    "id": "svg-0.g-0.#text-2"
                },
                {
                    "tag": "g",
                    "attributes": {
                        "id": "node1",
                        "class": "node"
                    },
                    "children": [
                        {
                            "tag": "#text",
                            "text": "\n",
                            "attributes": {},
                            "children": [],
                            "key": "#text-0",
                            "id": "svg-0.g-0.a.#text-0"
                        },
                        {
                            "tag": "title",
                            "attributes": {},
                            "children": [
                                {
                                    "tag": "#text",
                                    "text": "a",
                                    "attributes": {},
                                    "children": [],
                                    "key": "#text-0",
                                    "id": "svg-0.g-0.a.title-0.#text-0"
                                }
                            ],
                            "key": "title-0",
                            "id": "svg-0.g-0.a.title-0"
                        },
                        {
                            "tag": "#text",
                            "text": "\n",
                            "attributes": {},
                            "children": [],
                            "key": "#text-1",
                            "id": "svg-0.g-0.a.#text-1"
                        },
                        {
                            "tag": "ellipse",
                            "attributes": {
                                "fill": "none",
                                "stroke": "black",
                                "cx": "27",
                                "cy": "-90",
                                "rx": "27",
                                "ry": "18"
                            },
                            "center": {
                                "x": "27",
                                "y": "-90"
                            },
                            "children": [],
                            "key": "path-0",
                            "id": "svg-0.g-0.a.path-0"
                        },
                        {
                            "tag": "#text",
                            "text": "\n",
                            "attributes": {},
                            "children": [],
                            "key": "#text-2",
                            "id": "svg-0.g-0.a.#text-2"
                        },
                        {
                            "tag": "text",
                            "attributes": {
                                "text-anchor": "middle",
                                "x": "27",
                                "y": "-85.8",
                                "font-family": "Times,serif",
                                "font-size": "14.00"
                            },
                            "center": {
                                "x": "27",
                                "y": "-85.8"
                            },
                            "children": [
                                {
                                    "tag": "#text",
                                    "text": "a",
                                    "attributes": {},
                                    "children": [],
                                    "key": "#text-0",
                                    "id": "svg-0.g-0.a.text-0.#text-0"
                                }
                            ],
                            "key": "text-0",
                            "id": "svg-0.g-0.a.text-0"
                        },
                        {
                            "tag": "#text",
                            "text": "\n",
                            "attributes": {},
                            "children": [],
                            "key": "#text-3",
                            "id": "svg-0.g-0.a.#text-3"
                        }
                    ],
                    "key": "a",
                    "id": "svg-0.g-0.a"
                },
                {
                    "tag": "#text",
                    "text": "\n",
                    "attributes": {},
                    "children": [],
                    "key": "#text-3",
                    "id": "svg-0.g-0.#text-3"
                },
                {
                    "tag": "#comment",
                    "comment": " b ",
                    "attributes": {},
                    "children": [],
                    "key": "#comment-1",
                    "id": "svg-0.g-0.#comment-1"
                },
                {
                    "tag": "#text",
                    "text": "\n",
                    "attributes": {},
                    "children": [],
                    "key": "#text-4",
                    "id": "svg-0.g-0.#text-4"
                },
                {
                    "tag": "g",
                    "attributes": {
                        "id": "node2",
                        "class": "node"
                    },
                    "children": [
                        {
                            "tag": "#text",
                            "text": "\n",
                            "attributes": {},
                            "children": [],
                            "key": "#text-0",
                            "id": "svg-0.g-0.b.#text-0"
                        },
                        {
                            "tag": "title",
                            "attributes": {},
                            "children": [
                                {
                                    "tag": "#text",
                                    "text": "b",
                                    "attributes": {},
                                    "children": [],
                                    "key": "#text-0",
                                    "id": "svg-0.g-0.b.title-0.#text-0"
                                }
                            ],
                            "key": "title-0",
                            "id": "svg-0.g-0.b.title-0"
                        },
                        {
                            "tag": "#text",
                            "text": "\n",
                            "attributes": {},
                            "children": [],
                            "key": "#text-1",
                            "id": "svg-0.g-0.b.#text-1"
                        },
                        {
                            "tag": "ellipse",
                            "attributes": {
                                "fill": "none",
                                "stroke": "black",
                                "cx": "27",
                                "cy": "-18",
                                "rx": "27",
                                "ry": "18"
                            },
                            "center": {
                                "x": "27",
                                "y": "-18"
                            },
                            "children": [],
                            "key": "path-0",
                            "id": "svg-0.g-0.b.path-0"
                        },
                        {
                            "tag": "#text",
                            "text": "\n",
                            "attributes": {},
                            "children": [],
                            "key": "#text-2",
                            "id": "svg-0.g-0.b.#text-2"
                        },
                        {
                            "tag": "text",
                            "attributes": {
                                "text-anchor": "middle",
                                "x": "27",
                                "y": "-13.8",
                                "font-family": "Times,serif",
                                "font-size": "14.00"
                            },
                            "center": {
                                "x": "27",
                                "y": "-13.8"
                            },
                            "children": [
                                {
                                    "tag": "#text",
                                    "text": "b",
                                    "attributes": {},
                                    "children": [],
                                    "key": "#text-0",
                                    "id": "svg-0.g-0.b.text-0.#text-0"
                                }
                            ],
                            "key": "text-0",
                            "id": "svg-0.g-0.b.text-0"
                        },
                        {
                            "tag": "#text",
                            "text": "\n",
                            "attributes": {},
                            "children": [],
                            "key": "#text-3",
                            "id": "svg-0.g-0.b.#text-3"
                        }
                    ],
                    "key": "b",
                    "id": "svg-0.g-0.b"
                },
                {
                    "tag": "#text",
                    "text": "\n",
                    "attributes": {},
                    "children": [],
                    "key": "#text-5",
                    "id": "svg-0.g-0.#text-5"
                },
                {
                    "tag": "#comment",
                    "comment": " a&#45;&gt;b ",
                    "attributes": {},
                    "children": [],
                    "key": "#comment-2",
                    "id": "svg-0.g-0.#comment-2"
                },
                {
                    "tag": "#text",
                    "text": "\n",
                    "attributes": {},
                    "children": [],
                    "key": "#text-6",
                    "id": "svg-0.g-0.#text-6"
                },
                {
                    "tag": "g",
                    "attributes": {
                        "id": "edge1",
                        "class": "edge"
                    },
                    "children": [
                        {
                            "tag": "#text",
                            "text": "\n",
                            "attributes": {},
                            "children": [],
                            "key": "#text-0",
                            "id": "svg-0.g-0.a->b.#text-0"
                        },
                        {
                            "tag": "title",
                            "attributes": {},
                            "children": [
                                {
                                    "tag": "#text",
                                    "text": "a->b",
                                    "attributes": {},
                                    "children": [],
                                    "key": "#text-0",
                                    "id": "svg-0.g-0.a->b.title-0.#text-0"
                                }
                            ],
                            "key": "title-0",
                            "id": "svg-0.g-0.a->b.title-0"
                        },
                        {
                            "tag": "#text",
                            "text": "\n",
                            "attributes": {},
                            "children": [],
                            "key": "#text-1",
                            "id": "svg-0.g-0.a->b.#text-1"
                        },
                        {
                            "tag": "path",
                            "attributes": {
                                "fill": "none",
                                "stroke": "black",
                                "d": "M27,-71.7C27,-64.41 27,-55.73 27,-47.54"
                            },
                            "bbox": {
                                "x": 27,
                                "y": -71.7,
                                "width": 0,
                                "height": 24.160000000000004
                            },
                            "center": {
                                "x": 27,
                                "y": -59.620000000000005
                            },
                            "totalLength": 100,
                            "children": [],
                            "key": "path-0",
                            "id": "svg-0.g-0.a->b.path-0"
                        },
                        {
                            "tag": "#text",
                            "text": "\n",
                            "attributes": {},
                            "children": [],
                            "key": "#text-2",
                            "id": "svg-0.g-0.a->b.#text-2"
                        },
                        {
                            "tag": "polygon",
                            "attributes": {
                                "fill": "black",
                                "stroke": "black",
                                "points": "30.5,-47.62 27,-37.62 23.5,-47.62 30.5,-47.62"
                            },
                            "bbox": {
                                "x": 23.5,
                                "y": -47.62,
                                "width": 7,
                                "height": 10
                            },
                            "center": {
                                "x": 27,
                                "y": -42.62
                            },
                            "children": [],
                            "key": "path-1",
                            "id": "svg-0.g-0.a->b.path-1",
                            "totalLength": 100
                        },
                        {
                            "tag": "#text",
                            "text": "\n",
                            "attributes": {},
                            "children": [],
                            "key": "#text-3",
                            "id": "svg-0.g-0.a->b.#text-3"
                        }
                    ],
                    "key": "a->b",
                    "id": "svg-0.g-0.a->b"
                },
                {
                    "tag": "#text",
                    "text": "\n",
                    "attributes": {},
                    "children": [],
                    "key": "#text-7",
                    "id": "svg-0.g-0.#text-7"
                }
            ],
            "key": "g-0",
            "id": "svg-0.g-0"
        },
        {
            "tag": "#text",
            "text": "\n",
            "attributes": {},
            "children": [],
            "key": "#text-1",
            "id": "svg-0.#text-1"
        }
    ],
    "key": "svg-0",
    "id": "svg-0"
}
expectedData:
{
    "tag": "svg",
    "attributes": {
        "width": "62pt",
        "height": "116pt",
        "viewBox": "0.00 0.00 62.00 116.00",
        "xmlns": "http://www.w3.org/2000/svg",
        "xmlns:xlink": "http://www.w3.org/1999/xlink"
    },
    "children": [
        {
            "tag": "#text",
            "text": "\n",
            "attributes": {},
            "children": [],
            "key": "#text-0",
            "id": "svg-0.#text-0"
        },
        {
            "tag": "g",
            "attributes": {
                "id": "graph0",
                "class": "graph",
                "transform": "scale(1 1) rotate(0) translate(4 112)"
            },
            "translation": {
                "x": 4,
                "y": 112
            },
            "scale": 1,
            "children": [
                {
                    "tag": "#text",
                    "text": "\n",
                    "attributes": {},
                    "children": [],
                    "key": "#text-0",
                    "id": "svg-0.g-0.#text-0"
                },
                {
                    "tag": "polygon",
                    "attributes": {
                        "fill": "white",
                        "stroke": "none",
                        "points": "-4,4 -4,-112 58,-112 58,4 -4,4"
                    },
                    "bbox": {
                        "x": -4,
                        "y": -112,
                        "width": 62,
                        "height": 116
                    },
                    "center": {
                        "x": 27,
                        "y": -54
                    },
                    "children": [],
                    "key": "path-0",
                    "id": "svg-0.g-0.path-0"
                },
                {
                    "tag": "#text",
                    "text": "\n",
                    "attributes": {},
                    "children": [],
                    "key": "#text-1",
                    "id": "svg-0.g-0.#text-1"
                },
                {
                    "tag": "#comment",
                    "comment": " a ",
                    "attributes": {},
                    "children": [],
                    "key": "#comment-0",
                    "id": "svg-0.g-0.#comment-0"
                },
                {
                    "tag": "#text",
                    "text": "\n",
                    "attributes": {},
                    "children": [],
                    "key": "#text-2",
                    "id": "svg-0.g-0.#text-2"
                },
                {
                    "tag": "g",
                    "attributes": {
                        "id": "node1",
                        "class": "node"
                    },
                    "children": [
                        {
                            "tag": "#text",
                            "text": "\n",
                            "attributes": {},
                            "children": [],
                            "key": "#text-0",
                            "id": "svg-0.g-0.a.#text-0"
                        },
                        {
                            "tag": "title",
                            "attributes": {},
                            "children": [
                                {
                                    "tag": "#text",
                                    "text": "a",
                                    "attributes": {},
                                    "children": [],
                                    "key": "#text-0",
                                    "id": "svg-0.g-0.a.title-0.#text-0"
                                }
                            ],
                            "key": "title-0",
                            "id": "svg-0.g-0.a.title-0"
                        },
                        {
                            "tag": "#text",
                            "text": "\n",
                            "attributes": {},
                            "children": [],
                            "key": "#text-1",
                            "id": "svg-0.g-0.a.#text-1"
                        },
                        {
                            "tag": "ellipse",
                            "attributes": {
                                "fill": "none",
                                "stroke": "black",
                                "cx": "27",
                                "cy": "-90",
                                "rx": "27",
                                "ry": "18"
                            },
                            "center": {
                                "x": "27",
                                "y": "-90"
                            },
                            "children": [],
                            "key": "path-0",
                            "id": "svg-0.g-0.a.path-0"
                        },
                        {
                            "tag": "#text",
                            "text": "\n",
                            "attributes": {},
                            "children": [],
                            "key": "#text-2",
                            "id": "svg-0.g-0.a.#text-2"
                        },
                        {
                            "tag": "text",
                            "attributes": {
                                "text-anchor": "middle",
                                "x": "27",
                                "y": "-85.8",
                                "font-family": "Times,serif",
                                "font-size": "14.00"
                            },
                            "center": {
                                "x": "27",
                                "y": "-85.8"
                            },
                            "children": [
                                {
                                    "tag": "#text",
                                    "text": "a",
                                    "attributes": {},
                                    "children": [],
                                    "key": "#text-0",
                                    "id": "svg-0.g-0.a.text-0.#text-0"
                                }
                            ],
                            "key": "text-0",
                            "id": "svg-0.g-0.a.text-0"
                        },
                        {
                            "tag": "#text",
                            "text": "\n",
                            "attributes": {},
                            "children": [],
                            "key": "#text-3",
                            "id": "svg-0.g-0.a.#text-3"
                        }
                    ],
                    "key": "a",
                    "id": "svg-0.g-0.a"
                },
                {
                    "tag": "#text",
                    "text": "\n",
                    "attributes": {},
                    "children": [],
                    "key": "#text-3",
                    "id": "svg-0.g-0.#text-3"
                },
                {
                    "tag": "#comment",
                    "comment": " b ",
                    "attributes": {},
                    "children": [],
                    "key": "#comment-1",
                    "id": "svg-0.g-0.#comment-1"
                },
                {
                    "tag": "#text",
                    "text": "\n",
                    "attributes": {},
                    "children": [],
                    "key": "#text-4",
                    "id": "svg-0.g-0.#text-4"
                },
                {
                    "tag": "g",
                    "attributes": {
                        "id": "node2",
                        "class": "node"
                    },
                    "children": [
                        {
                            "tag": "#text",
                            "text": "\n",
                            "attributes": {},
                            "children": [],
                            "key": "#text-0",
                            "id": "svg-0.g-0.b.#text-0"
                        },
                        {
                            "tag": "title",
                            "attributes": {},
                            "children": [
                                {
                                    "tag": "#text",
                                    "text": "b",
                                    "attributes": {},
                                    "children": [],
                                    "key": "#text-0",
                                    "id": "svg-0.g-0.b.title-0.#text-0"
                                }
                            ],
                            "key": "title-0",
                            "id": "svg-0.g-0.b.title-0"
                        },
                        {
                            "tag": "#text",
                            "text": "\n",
                            "attributes": {},
                            "children": [],
                            "key": "#text-1",
                            "id": "svg-0.g-0.b.#text-1"
                        },
                        {
                            "tag": "ellipse",
                            "attributes": {
                                "fill": "none",
                                "stroke": "black",
                                "cx": "27",
                                "cy": "-18",
                                "rx": "27",
                                "ry": "18"
                            },
                            "center": {
                                "x": "27",
                                "y": "-18"
                            },
                            "children": [],
                            "key": "path-0",
                            "id": "svg-0.g-0.b.path-0"
                        },
                        {
                            "tag": "#text",
                            "text": "\n",
                            "attributes": {},
                            "children": [],
                            "key": "#text-2",
                            "id": "svg-0.g-0.b.#text-2"
                        },
                        {
                            "tag": "text",
                            "attributes": {
                                "text-anchor": "middle",
                                "x": "27",
                                "y": "-13.8",
                                "font-family": "Times,serif",
                                "font-size": "14.00"
                            },
                            "center": {
                                "x": "27",
                                "y": "-13.8"
                            },
                            "children": [
                                {
                                    "tag": "#text",
                                    "text": "b",
                                    "attributes": {},
                                    "children": [],
                                    "key": "#text-0",
                                    "id": "svg-0.g-0.b.text-0.#text-0"
                                }
                            ],
                            "key": "text-0",
                            "id": "svg-0.g-0.b.text-0"
                        },
                        {
                            "tag": "#text",
                            "text": "\n",
                            "attributes": {},
                            "children": [],
                            "key": "#text-3",
                            "id": "svg-0.g-0.b.#text-3"
                        }
                    ],
                    "key": "b",
                    "id": "svg-0.g-0.b"
                },
                {
                    "tag": "#text",
                    "text": "\n",
                    "attributes": {},
                    "children": [],
                    "key": "#text-5",
                    "id": "svg-0.g-0.#text-5"
                },
                {
                    "tag": "#comment",
                    "comment": " a&#45;&gt;b ",
                    "attributes": {},
                    "children": [],
                    "key": "#comment-2",
                    "id": "svg-0.g-0.#comment-2"
                },
                {
                    "tag": "#text",
                    "text": "\n",
                    "attributes": {},
                    "children": [],
                    "key": "#text-6",
                    "id": "svg-0.g-0.#text-6"
                },
                {
                    "tag": "g",
                    "attributes": {
                        "id": "edge1",
                        "class": "edge"
                    },
                    "children": [
                        {
                            "tag": "#text",
                            "text": "\n",
                            "attributes": {},
                            "children": [],
                            "key": "#text-0",
                            "id": "svg-0.g-0.a->b.#text-0"
                        },
                        {
                            "tag": "title",
                            "attributes": {},
                            "children": [
                                {
                                    "tag": "#text",
                                    "text": "a->b",
                                    "attributes": {},
                                    "children": [],
                                    "key": "#text-0",
                                    "id": "svg-0.g-0.a->b.title-0.#text-0"
                                }
                            ],
                            "key": "title-0",
                            "id": "svg-0.g-0.a->b.title-0"
                        },
                        {
                            "tag": "#text",
                            "text": "\n",
                            "attributes": {},
                            "children": [],
                            "key": "#text-1",
                            "id": "svg-0.g-0.a->b.#text-1"
                        },
                        {
                            "tag": "path",
                            "attributes": {
                                "fill": "none",
                                "stroke": "black",
                                "d": "M27,-71.7C27,-64.24 27,-55.32 27,-46.97"
                            },
                            "bbox": {
                                "x": 27,
                                "y": -71.7,
                                "width": 0,
                                "height": 24.730000000000004
                            },
                            "center": {
                                "x": 27,
                                "y": -59.335
                            },
                            "totalLength": 100,
                            "children": [],
                            "key": "path-0",
                            "id": "svg-0.g-0.a->b.path-0"
                        },
                        {
                            "tag": "#text",
                            "text": "\n",
                            "attributes": {},
                            "children": [],
                            "key": "#text-2",
                            "id": "svg-0.g-0.a->b.#text-2"
                        },
                        {
                            "tag": "polygon",
                            "attributes": {
                                "fill": "black",
                                "stroke": "black",
                                "points": "30.5,-47.1 27,-37.1 23.5,-47.1 30.5,-47.1"
                            },
                            "bbox": {
                                "x": 23.5,
                                "y": -47.1,
                                "width": 7,
                                "height": 10
                            },
                            "center": {
                                "x": 27,
                                "y": -42.1
                            },
                            "children": [],
                            "key": "path-1",
                            "id": "svg-0.g-0.a->b.path-1",
                            "totalLength": 100
                        },
                        {
                            "tag": "#text",
                            "text": "\n",
                            "attributes": {},
                            "children": [],
                            "key": "#text-3",
                            "id": "svg-0.g-0.a->b.#text-3"
                        }
                    ],
                    "key": "a->b",
                    "id": "svg-0.g-0.a->b"
                },
                {
                    "tag": "#text",
                    "text": "\n",
                    "attributes": {},
                    "children": [],
                    "key": "#text-7",
                    "id": "svg-0.g-0.#text-7"
                }
            ],
            "key": "g-0",
            "id": "svg-0.g-0"
        },
        {
            "tag": "#text",
            "text": "\n",
            "attributes": {},
            "children": [],
            "key": "#text-1",
            "id": "svg-0.#text-1"
        }
    ],
    "key": "svg-0",
    "id": "svg-0"
}
  1) data extraction
  âœ” renderDot() renders a node with an empty string as node_id.
  âœ” dot() performs layout in the foreground when web worker is not used.
No script tag of type "javascript/worker" was found and "useWorker" is true. Not using web worker.
  âœ” dot() performs layout in the foreground with a warning when script src does not contain "@hpcc-js/wasm".
No "src" attribute of was found on the "javascript/worker" script tag and "useWorker" is true. Not using web worker.
  âœ” dot() performs layout in the foreground with a warning when "javascript/worker" script tag does not have a "src" attribute.
  âœ” DOT without viewport
  âœ” DOT with viewport scale 2
  âœ” DOT with viewport scale 0.5
  âœ” DOT with viewport scale 1.5
  âœ” DOT with viewport scale 2 and original size
  âœ” No edge is drawn when style is invis.
  âœ” Updating of an edge with style invis is ignored.
  âœ” Moving an edge with style invis is ignored.
  âœ” Removal of an edge with style invis is allowed.
  âœ” Changing an edge with style invis to a visible edge is allowed.
  2) Check our understanding of how Graphviz draws edges.
  âœ” drawEdge() draws an edge in the same way as Graphviz does
  âœ” drawEdge() draws an edge even if the length is zero
  âœ” drawEdge() draws an edge with an URL attribute in the same way as Graphviz does
  âœ” drawEdge() draws an edge with an tooltip attribute in the same way as Graphviz does
  âœ” insertDrawnEdge() inserts the currently drawn edge into the joined data structure so that it can be animated when the graph is re-rendered
  âœ” removeDrawnEdge() removes the edge currently being drawn
  âœ” updateDrawnEdge modifies the start and end points and the attributes of an edge
  âœ” moveDrawnEdgeEndPoint modifies the end points of an edge
  âœ” drawnEdgeSelection return a selection containing the edge currently being drawn
  âœ” Attempts to operate on an edge without drawing one first is handled gracefully
  âœ” Verify that box shape is drawn exactly as Graphviz does.
  âœ” Verify that circle shape is drawn exactly as Graphviz does.
  âœ” Verify that cylinder shape is drawn exactly as Graphviz does.
  âœ” Verify that default shape is drawn exactly as Graphviz does.
  âœ” Verify that default shape with style filled is drawn exactly as Graphviz does.
  âœ” Default shape with style filled without fillcolor, but with color, uses color as fillcolor.
  âœ” Verify that default shape with label is drawn exactly as Graphviz does.
  âœ” Verify that diamond shape is drawn exactly as Graphviz does.
  âœ” Verify that egg shape is drawn exactly as Graphviz does.
  âœ” Verify that ellipse shape is drawn exactly as Graphviz does.
  âœ” Verify that none shape is drawn exactly as Graphviz does.
  âœ” Verify that none shape without label is drawn exactly as Graphviz does.
  âœ” Verify that none shape with style filled is drawn exactly as Graphviz does.
  âœ” Verify that none shape with style filled and pen color specified is drawn exactly as Graphviz does.
  âœ” Verify that oval shape is drawn exactly as Graphviz does.
  âœ” Verify that point shape is drawn exactly as Graphviz does.
  âœ” Verify that polygon shape is drawn exactly as Graphviz does.
  âœ” Verify that rect shape is drawn exactly as Graphviz does.
  âœ” Verify that triangle shape is drawn exactly as Graphviz does.
  âœ” No node is drawn when style is invis.
  âœ” Updating of a node with style invis is ignored.
  âœ” Moving a node with style invis is ignored.
  âœ” Removal of a node with style invis is allowed.
  âœ” Changing a node with style invis to a visible node is allowed.
  âœ” Check our understanding of how Graphviz draws nodes.
  âœ” drawNode() draws a node in the same way as Graphviz does
  âœ” drawNode() draws a polygon node
  âœ” drawNode() draws a node with an URL attribute in the same way as Graphviz does
  âœ” drawNode() draws a node with an tooltip attribute in the same way as Graphviz does
  âœ” insertDrawnNode() inserts the currently drawn node into the joined data structure so that it can be animated when the graph is re-rendered (46ms)
  âœ” removeDrawnNode() removes the node currently being drawn
  âœ” updateDrawnNode modifies the position, size and attributes of a node
  âœ” moveDrawnNode modifies the position of a node
  âœ” drawnNodeSelection return a selection containing the node currently being drawn
  âœ” Attempts to operate on a node without drawing one first is handled gracefully
  âœ” engine() selects which graphviz layout engine to use.
  âœ” engine() selects which graphviz layout engine to use.
  âœ” graphviz().options() gets options.
  âœ” graphviz(options) sets options at initialization.
  âœ” graphviz().options(options) sets options.
  âœ” graphviz() returns an exiting renderer. (67ms)
  3) graphviz().render() renders an SVG from graphviz DOT.
  âœ” graphviz().render() renders on a div with sub-elements
  âœ” graphviz().render() removes SVG elements for nodes and edges when removed from updated DOT.
  âœ” graphviz().render() adds SVG elements for nodes and edges when added to updated DOT.
  âœ” graphviz().renderDot() renders an SVG from graphviz DOT.
  âœ” graphviz().render() updates SVG text element when node name changes in DOT.
  âœ” graphviz().render() changes SVG element type when node shape changes in DOT.
  âœ” graphviz().renderDot() renders an SVG from graphviz strict undirectd DOT.
  âœ” graphviz().renderDot() renders an SVG from graphviz strict directd DOT.
  âœ” graphviz().render() renders edges with tooltip attribute.
  âœ” graphviz().graphvizVersion() return the Graphviz version.
  âœ” graphviz().render() renders growing edges to nodes with URL attribute.
  âœ” graphviz().render() renders growing edges from nodes with shape none and no labels.
  âœ” graphviz().render() renders growing edges from nodes with shape none.
  âœ” Simple rendering an SVG from graphviz DOT.
  âœ” graphviz().render() renders growing edges to nodes with URL attribute.
  âœ” graphviz().keyMode() affects transitions and order of rendering. (8296ms)
  âœ” graphviz().keyMode() does not accept illegal key modes.
  âœ” graphviz().keyMode() cannot be changed after applying dot source.
Event  1 start                  0     0
Event  2 layoutStart            2     2
Event  3 layoutEnd              1     3
Event  4 dataExtractEnd         5     8
Event  5 dataProcessPass1End    0     8
Event  6 dataProcessPass2End    0     8
Event  7 dataProcessEnd         0     8 prepare                     5
Event  8 renderStart            0     8
Event  9 renderEnd              5    13
Event 13 end                    0    13
Event  1 start                  0     0
Event  2 layoutStart            0     0
Event  3 layoutEnd              1     1
Event  4 dataExtractEnd         5     6
Event  5 dataProcessPass1End    1     7
Event  6 dataProcessPass2End    0     7
Event  7 dataProcessEnd         0     7 prepare                     6
Event  8 renderStart            0     7
Event  9 renderEnd             23    30 transition start margin   âˆ’23
Event 10 transitionStart        0    30 transition delay           23 expected     0 diff    23
Event 11 transitionEnd         46    76 transition duration        46 expected     0 diff    46
Event 12 restoreEnd             1    77
Event 13 end                    0    77
  âœ” logEvents enables and disables event logging. (105ms)
  âœ” onerror() registers dot layout error handler.
  âœ” graphviz().render() removes attribute from SVG element when attribute is removed from Graphviz node.
Event  0 initEnd                0 
Event  1 start                  1     0
Event  2 layoutStart            0     0
Event  3 layoutEnd              0     0
Event  4 dataExtractEnd         2     2
Event  5 dataProcessPass1End    1     3
Event  6 dataProcessPass2End    0     3
Event  7 dataProcessEnd         0     3 prepare                     3
Event  8 renderStart            0     3
Event  9 renderEnd              4     7 transition start margin    âˆ’4
Event  1 start                  1     0
Event  2 layoutStart            0     0
Event  3 layoutEnd              0     0
Event  4 dataExtractEnd         2     2
Event  5 dataProcessPass1End    1     3
Event  6 dataProcessPass2End    0     3
Event  7 dataProcessEnd         0     3 prepare                     3
Event  8 renderStart            1     4
Event 10 transitionStart        4    16 transition delay           13 expected     0 diff    13
Event 11 transitionEnd         13    29 transition duration        13 expected     0 diff    13
Event  8 renderStart            2   NaN
Event  9 renderEnd              4    27 transition start margin   âˆ’23
Event 12 restoreEnd             0    35
Event 13 end                    0    35
Event 10 transitionStart       23    50 transition delay           46 expected     0 diff    46
Event 11 transitionEnd         55   105 transition duration        55 expected   100 diff   âˆ’45
Event 12 restoreEnd             1   106
Event 13 end                    0   106
  âœ” graphviz().render() adds and removes SVG elements after transition delay. (119ms)
  âœ” selection.graphviz() returns an instanceof d3.graphviz
  âœ” selection.graphviz().dot().render() renders an SVG from graphviz DOT.
  âœ” selection.selectWithoutDataPropagation() selects without propagating data
  âœ” selection.selectWithoutDataPropagation() on empty selection
  âœ” Simple rendering an SVG from graphviz DOT using default export
  âœ” Simple rendering an SVG from graphviz DOT.
  âœ” graphviz.renderDot() generates a correct SVG from graphviz DOT with graph tooltip.
  âœ” graphviz.transition().renderDot() generates a correct SVG from graphviz DOT with graph tooltip.
  âœ” graphviz().tweenPaths(true) enables path tweening during transitions. (119ms)
  âœ” graphviz().tweenPrecision can be absolute. (155ms)
  âœ” graphviz().tweenPrecision can be relative. (153ms)
  âœ” graphviz().tweenShapes() enables and disables shape tweening during transitions. (113ms)
  âœ” graphviz().tweenShapes() enables and disables shape tweening during transitions. (107ms)
  âœ” graphviz().width() sets svg width. (100ms)
  âœ” zoom(false) disables zooming.
  âœ” zoom(true) enables zooming.
  âœ” zoom(false) after zoom(true) disables zooming.
  âœ” resetZoom resets the zoom transform to the original transform.
  âœ” resetZoom resets the zoom transform to the original transform of the latest rendered graph.
  âœ” zooming rescales transforms during transitions. (223ms)
  âœ” zoomScaleExtent() sets zoom scale extent.
  âœ” zoomTranslateExtent() sets zoom translate extent.
  âœ” zoomBehavior() returns the current zoom behavior if zoom is enabled.
  âœ” zoomBehavior() returns null if zoom is disabled.
  âœ” zoomSelection() returns the current zoom selection if zoom is enabled.
  âœ” zoomSelection() returns null if zoom is disabled.
  dot()
    âœ” dot() performs layout in a web worker in the background. (203ms)

  dot()
    âœ” dot() performs layout in a web worker in the background. (187ms)

  dot()
    âœ” dot() performs layout in a web worker in the background with text/javascript tag. (216ms)

  drawNode()
    âœ” Verify that polygon shape is drawn exactly as Graphviz does. (366ms)

  graphvizVersion()
    âœ” graphviz().graphvizVersion() returns the Graphviz version. (238ms)

  logEvents())
Event  1 start                  0     0
Event  2 layoutStart            0     0
Event  0 initEnd              162 
Event  3 layoutEnd              0   162
Event  4 dataExtractEnd         3   165
Event  5 dataProcessPass1End    0   165
Event  6 dataProcessPass2End    0   165
Event  7 dataProcessEnd         0   165 prepare                     3
Event  8 renderStart            1   166
Event  9 renderEnd              2   168
Event 13 end                    0   168
    âœ” logEvents enables event logging using web worker. (180ms)

  renderDot()
    âœ” Simple rendering an SVG from graphviz DOT. (199ms)

  renderDot()
    âœ” Simple rendering an SVG from graphviz DOT. (154ms)

  renderDot()
    âœ” Simple rendering an SVG from graphviz DOT. (183ms)

  render()
    âœ” graphviz().render() adds and removes SVG elements after transition delay. (956ms)


  131 passing (15s)
  3 failing

  1) data extraction:

      AssertionError [ERR_ASSERTION]: Extracted data equals predefined data
      + expected - actual


      [mocha] output truncated to 8192 characters, see "maxDiffSize" reporter-option

      at default (file:///home/magjac/d3-graphviz/test/deepEqualData.js:30:12)
      at Context.<anonymous> (file:///home/magjac/d3-graphviz/test/dot-data-test.js:29:5)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)
      at async file:///home/magjac/d3-graphviz/test/it.js:5:17

  2) Check our understanding of how Graphviz draws edges.:

      AssertionError [ERR_ASSERTION]: Point 1 of edge
      + expected - actual

       [
      -  61.89
      +  62.06
         -18
       ]
      
      at Context.<anonymous> (file:///home/magjac/d3-graphviz/test/drawEdge-test.js:65:16)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)
      at async file:///home/magjac/d3-graphviz/test/it.js:5:17

  3) graphviz().render() renders an SVG from graphviz DOT.:

      AssertionError [ERR_ASSERTION]: SVG after initial rendering
      + expected - actual

       </g>
       <!-- a&#45;&gt;b -->
       <g id="edge1" class="edge">
       <title>a-&gt;b</title>
      -<path fill="none" stroke="black" d="M27,-71.7C27,-64.41 27,-55.73 27,-47.54"></path>
      -<polygon fill="black" stroke="black" points="30.5,-47.62 27,-37.62 23.5,-47.62 30.5,-47.62"></polygon>
      +<path fill="none" stroke="black" d="M27,-71.7C27,-64.24 27,-55.32 27,-46.97"></path>
      +<polygon fill="black" stroke="black" points="30.5,-47.1 27,-37.1 23.5,-47.1 30.5,-47.1"></polygon>
       </g>
       </g>
       </svg>
      
      at Context.<anonymous> (file:///home/magjac/d3-graphviz/test/graphviz-test.js:47:12)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)
      at async file:///home/magjac/d3-graphviz/test/it.js:5:17



----------------------------------|---------|----------|---------|---------|-------------------
File                              | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
----------------------------------|---------|----------|---------|---------|-------------------
All files                         |     100 |      100 |     100 |     100 |                   
 d3-graphviz                      |     100 |      100 |     100 |     100 |                   
  index.js                        |     100 |      100 |     100 |     100 |                   
 d3-graphviz/src                  |     100 |      100 |     100 |     100 |                   
  attributer.js                   |     100 |      100 |     100 |     100 |                   
  convertEqualSidedPolygons.js    |     100 |      100 |     100 |     100 |                   
  data.js                         |     100 |      100 |     100 |     100 |                   
  destroy.js                      |     100 |      100 |     100 |     100 |                   
  dot.js                          |     100 |      100 |     100 |     100 |                   
  drawEdge.js                     |     100 |      100 |     100 |     100 |                   
  drawNode.js                     |     100 |      100 |     100 |     100 |                   
  element.js                      |     100 |      100 |     100 |     100 |                   
  engine.js                       |     100 |      100 |     100 |     100 |                   
  fade.js                         |     100 |      100 |     100 |     100 |                   
  fit.js                          |     100 |      100 |     100 |     100 |                   
  geometry.js                     |     100 |      100 |     100 |     100 |                   
  graphviz.js                     |     100 |      100 |     100 |     100 |                   
  graphvizVersion.js              |     100 |      100 |     100 |     100 |                   
  growEnteringEdges.js            |     100 |      100 |     100 |     100 |                   
  height.js                       |     100 |      100 |     100 |     100 |                   
  images.js                       |     100 |      100 |     100 |     100 |                   
  keyMode.js                      |     100 |      100 |     100 |     100 |                   
  logEvents.js                    |     100 |      100 |     100 |     100 |                   
  on.js                           |     100 |      100 |     100 |     100 |                   
  onerror.js                      |     100 |      100 |     100 |     100 |                   
  options.js                      |     100 |      100 |     100 |     100 |                   
  render.js                       |     100 |      100 |     100 |     100 |                   
  renderDot.js                    |     100 |      100 |     100 |     100 |                   
  scale.js                        |     100 |      100 |     100 |     100 |                   
  svg.js                          |     100 |      100 |     100 |     100 |                   
  transition.js                   |     100 |      100 |     100 |     100 |                   
  tweenPaths.js                   |     100 |      100 |     100 |     100 |                   
  tweenPrecision.js               |     100 |      100 |     100 |     100 |                   
  tweenShapes.js                  |     100 |      100 |     100 |     100 |                   
  tweening.js                     |     100 |      100 |     100 |     100 |                   
  utils.js                        |     100 |      100 |     100 |     100 |                   
  width.js                        |     100 |      100 |     100 |     100 |                   
  workerCode.js                   |     100 |      100 |     100 |     100 |                   
  zoom.js                         |     100 |      100 |     100 |     100 |                   
 d3-graphviz/src/selection        |     100 |      100 |     100 |     100 |                   
  graphviz.js                     |     100 |      100 |     100 |     100 |                   
  index.js                        |     100 |      100 |     100 |     100 |                   
  selectWithoutDataPropagation.js |     100 |      100 |     100 |     100 |                   
----------------------------------|---------|----------|---------|---------|-------------------
